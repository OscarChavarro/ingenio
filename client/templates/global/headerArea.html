<template name="headerArea">
    <!-- Define todos los diálogos modales desde el principio para evitar bloqueos -->
    {{> defineWelcomeDialog}} {{> defineUserRegistrationModalDialog}} {{> defineWrongUserAccessModalDialog}} {{> defineUserPasswordResetFeedbackModalDialog}}
    <!-- Fin de la definición de diálogos modales -->
    <div class="container-fluid cabecera-fijada" id="headerArea">
        <div class="row  p">
            <div class="col-xs-12 col-sm-3 col-md-3 col-lg-2 logo text-align-center p">
             <!--............... LOGO-->
                <div class="cont-logo">
                    <a class="inicio" id="headerMenuBarLogoLink" href="/">
                         <img src={{resourceUrl "/images/logo.svg"}} alt="LogoIngenio" style="margin:auto; max-width:250px; display:block;">
                    </a>
                </div>
            </div>
            <div class="col-xs-12 col-sm-9  col-lg-10 p">
             <!-- ....telefonos.. -->

                <nav class="col-xs-12 p">
                    <div class="col-xs-12 p">
                        <div class="col-xs-12 menu p">
                            <div class="col-xs-4 col-lg-3 col-lg-offset-3 btn-menu"><a href="/products">PRODUCTOS</a></div>
                            <div class="col-xs-4 col-lg-3 btn-menu btn-lineas"><a href="/faq">PREGUNTAS FRECUENTES</a></div>
                            <div class="col-xs-4 col-lg-3 btn-menu"><a href="/contact">CONTÁCTENOS</a></div>
                            <div class="col-xs-12 sesion-buscar p">
                                <div class="col-xs-12 col-sm-6 sesion"><!-- ............... SESION.. -->
                                    <div class="cont-usuario">
                                          {{#if globalIsUserLoggedIn}}
                                          <p class="usuario" >Bienvenido(a) {{globalGetCurrentLoggedUsername}}</p>
                                          {{#if globalCheckUserRole "SYSTEM_ADMINISTRATOR"}}
                                          <a href="/adminPanel">Administrar</a>
                                          {{/if}}
                                          <a href="#" id="logoutUser" class="cs">Cerrar sesión</a>
                                          {{else}}
                                          <a href="#" id="registerNewUser" data-toggle="dropdown" class="registrarse">Regístrate</a>
                                          {{> loginDropDownMenuItem}} {{/if}}
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-6 buscar p">
                                    <form action="/search" class="col-xs-12 p" role="form">
                                        <div class="col-xs-12 buscar-campo p">
                                            <input class="col-xs-10" type="text" name="name" id="name" placeholder="Ingrese el nombre del producto">
                                            <button class="col-xs-1  btn-buscar p" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                                            <a href="/search" class="col-xs-1  btn-buscar p"><span class="glyphicon glyphicon-wrench"></span></a>
                                         </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>

                <!-- {{#if globalIsUserLoggedIn}}
                <li>
                    <p>Bienvenido(a)
                        <br> {{globalGetCurrentLoggedUsername}}</p>
                </li>
                {{#if globalCheckUserRole "SYSTEM_ADMINISTRATOR"}}
                <li><a href="/adminPanel">Administrar</a></li>
                {{/if}}
                <li><a href="#" id="logoutUser">Cerrar sesión</a></li>
                {{else}}
                <li>
                    <a href="#" id="registerNewUser" class="dropdown-toggle" data-toggle="dropdown">Regístrate</a>
                </li>
                {{> loginDropDownMenuItem}} {{/if}} -->

        </div>
    </div>
</template>

<!--
Plantilla privada
-->
<template name="loginDropDownMenuItem">
    <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" role="button">
            Ingresar
            <span class="caret"></span>
        </a>
        <ul id="loginPopup" class="dropdown-menu" role="menu">
            <li class="loginPopupItem">
                {{> userLoginBox}}
            </li>
        </ul>
    </li>
</template>
